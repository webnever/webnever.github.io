<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AETHER WEBNEVER</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="popup-overlay">
        <div class="popup-content">
            <img src="" alt="Popup Image">
        </div>
    </div>
    <div id="loader" class="loader">
        <div class="spinner"></div>
    </div>

    <main class="content hidden">
        <section id="title" class="viewport">
            <img src="awlogo.png" id="awlogo" alt="Logo">
            <a href="https://discord.gg/nnqb4uj8d4" target="_blank">
                <img src="sandclock.gif" id="sandclock" alt="Sand Clock">
            </a>
        </section>

        <section class="gallery-viewport viewport">
            <h2 class="gallery-title">CONCEPT ART</h2>
            <div class="gallery">
                <img src="gallery/6.png" alt="M.M.">
                <img src="gallery/12.png" alt="6DRAGON">
                <img src="gallery/2.png" alt="6D BRAND">
                <img src="gallery/0.png" alt="6D BALLERINA">
                <img src="gallery/14.png" alt="JACKAL">
                <img src="gallery/val.png" alt="VAL">
                <img src="gallery/8.png" alt="LUH">
                <img src="gallery/activist.png" alt="ACTIVIST">
                <img src="gallery/11.png" alt="D.D.'S NURSE">
                <img src="gallery/etac.png" alt="ETA-C">
                <img src="gallery/bluebeamchrist.png" alt="BLUE BEAM CHRIST">
                <img src="gallery/etac2.png" alt="ETA-C">
            </div>
        </section>


        <section id="gamePreview" class="viewport">
            <h2 class="game-title">ARMOUR inDev</h2>
            <img src="game.png" alt="Game Preview">
        </section>

        <section id="black" class="viewport">
            <div class="black-text"><p>AETHER WEBNEVER Â© NOWARE OS<br>ACT I: ARMOUR in development</p>
                <br><br><p style="text-align: justify">black sun shining, serpent bleeding, dawn graving,<br>
                crypt lurking, magic voiding, crystal computing,<br>
                junkie mystic sadhu, in the holy garden, of sex and war,<br>
                breathing pneuma, the life web nexus, like its oxygen,<br>
                just another angel, and another demon,<br>
                in a glass ball, haunted world</p></div>
            <img src="black.png" alt="Black">
        </section>
    </main>

    <script>
        window.addEventListener('load', () => {
            const loader = document.getElementById('loader');
            const content = document.querySelector('.content');
            
            loader.classList.add('fade-out');
            content.classList.remove('hidden');
            
            setTimeout(() => {
                loader.style.display = 'none';
            }, 500);

            const images = document.querySelectorAll('img');
            let loadedImages = 0;

            function imageLoaded() {
                loadedImages++;
                if (loadedImages === images.length) {
                    console.log('All images loaded');
                }
            }

            images.forEach(img => {
                if (img.complete) {
                    imageLoaded();
                } else {
                    img.addEventListener('load', imageLoaded);
                }
            });
        });

        // Popup functionality
        const popup = document.querySelector('.popup-overlay');
        const popupImg = popup.querySelector('img');
        const galleryImages = document.querySelectorAll('.gallery img');  // Only select gallery images

        // Open popup when clicking gallery images
        galleryImages.forEach(img => {
            img.style.cursor = 'pointer';  // Add pointer cursor to gallery images only
            img.addEventListener('click', (e) => {
                popupImg.src = e.target.src;
                popup.classList.add('active');
                document.body.style.overflow = 'hidden'; // Prevent scrolling
            });
        });

        // Close popup when clicking outside the image
        popup.addEventListener('click', (e) => {
            if (e.target === popup) {
                closePopup();
            }
        });

        // Close popup when pressing escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closePopup();
            }
        });

        function closePopup() {
            popup.classList.remove('active');
            document.body.style.overflow = ''; // Restore scrolling
            setTimeout(() => {
                popupImg.src = ''; // Clear the source after fade out
            }, 300);
        }
    </script>
</body>
</html>